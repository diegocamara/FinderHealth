<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="WEB-INF/template/template.xhtml">

	<ui:define name="title">Recife</ui:define>
	<ui:define name="cssRules">
		.companyHeaderGrid tr, .companyHeaderGrid td {
   			 border: none;
		}
		
		.ui-tabs-nav{
			width: 100%;
		}
	</ui:define>
	
		<ui:define name="northContent">
			<p:layoutUnit position="north" size="100">
			
			</p:layoutUnit>
		</ui:define>
		
		<ui:define name="southContent">
			<p:layoutUnit position="south" size="200">
			
			</p:layoutUnit>
		</ui:define>
		<!-- 
		<ui:define name="westContent">
			<p:layoutUnit position="west" size="200">
			
			</p:layoutUnit>
		</ui:define>
		
		<ui:define name="eastContent">
			<p:layoutUnit position="east" size="200">
			
			</p:layoutUnit>
		</ui:define>
			
		 -->
	<ui:define name="centerContent">
	
		<p:panelGrid columns="1" styleClass="companyHeaderGrid" style="text-align:center;">	
						
			<h1>O que você busca?</h1>			
			
			<p:outputLabel value="Unidades de saúde em recife por:"/>
			
			<p:tabView>
			
				<p:tab title="Categoria">
				
					<h:form>
					
						<p:selectOneMenu value="#{entitySearch.categoryId}" onchange="#{entitySearch.categoryConfig()}">
							<f:selectItem itemLabel="Selecione uma categoria." itemValue="0"/>
							<f:selectItems value="#{entitySearch.categoryList}" var="category" itemLabel="#{category.nome}" itemValue="#{category.id}"/>
							<p:ajax update="@form" />
						</p:selectOneMenu>			
						
						<p:panel rendered="#{entitySearch.categoryId > 0}">						
							<h:outputText value="#{entitySearch.category.descricao}" />													
						</p:panel>
						
						<p:commandButton value="Buscar" action="#{entitySearch.searchCategory}"/>						
					  	
						<p:growl sticky="false" autoUpdate="true" life="5000"/>	
					  
					</h:form>
				
				</p:tab>
				
				<p:tab title="Especialidade">
				
				<h:form>
			
					<p:selectOneMenu value="#{entitySearch.specialityId}" onchange="#{entitySearch.specialityConfig()}">
						<f:selectItem itemLabel="Selecione uma especialidade." itemValue="0"/>
						<f:selectItems value="#{entitySearch.specialityList}" var="speciality" itemLabel="#{speciality.name}" itemValue="#{speciality.id}"/>
						<p:ajax update="@form"/>
					</p:selectOneMenu>
					
					<p:commandButton value="Buscar" action="#{entitySearch.searchSpeciality}"/>
			
				</h:form>
				
				</p:tab>
				
				
				<p:tab title="Bairro">
					<h:form>
						<p:inputText value="#{entitySearch.bairro}" style="width: 80%;">
							<p:ajax update="@form"/>
						</p:inputText>
						
						<p:commandButton value="Buscar" action="#{entitySearch.searchBairro}"/>
						
					</h:form>
				</p:tab>
				
			</p:tabView>			
			
			
			<p:commandButton value="Listar todas unidades" action="#{entitySearch.searchAll}"/>
			
			
			
			
			
						
		</p:panelGrid>
	</ui:define>

</ui:composition>

</html>